<div class="d-flex justify-content-center align-items-center vh-100">
    <div class="card shadow" style="width: 400px;">
      <div class="card-header text-center">
        <h4>Request Change Password</h4>
      </div>
      <div class="card-body">
        <form (ngSubmit)="onSubmit()">
          <div class="mb-3">
            <label for="email" class="form-label">Email Address</label>
            <input
              type="email"
              id="email"
              [(ngModel)]="email"
              name="email"
              class="form-control"
              placeholder="Enter your email"
              required
            />
          </div>
          <div class="d-grid">
            <button type="submit" class="btn btn-primary">Submit</button>
          </div>
        </form>
  
        <!-- Show Loader while processing -->
        <div *ngIf="isLoading" class="loader-container">
            <div class="d-grid" style="justify-items: center; align-items:center; margin-top: 10px;">
                <span class="loader"></span>
                <p>Waiting for Approval</p>
            </div>
        </div>
  
        <!-- Display status after request is completed -->
        <div *ngIf="status !== undefined && !isLoading">
          <p class="mt-3">
            Status: <strong>{{ status === 1 ? 'Password change requested, awaiting approval' : (status === 2 ? 'Request approved. Ready to change password' : 'No request yet') }}</strong>
          </p>
  
          <!-- Show button if status is 2, enabling user to proceed -->
          <div *ngIf="canProceed" class="mt-3">
            <button (click)="proceedToChangePassword()" class="btn btn-success">Proceed to Change Password</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
